<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="./js/vue.js"></script>
</head>
<body>
    <div id="app">
        <button ref="btnRef" @click="num+=1">{{num}}</button>
        <button @click="$destroy()">销毁</button>
    </div>
    <button onclick="fn()">外部销毁</button>
</body>
<script>
    new Vue({
		el:"#app",
		data:{
			title:"生命周期",
            num:1
		},
		methods:{
			fun(){
				this.userName+="!";
				this.num +=1;
			}
		},
        beforeCreate(){
			console.log("1-beforeCreate")
		},
		created(){
			console.log("2-created");
		},
		beforeMount(){
			console.log("3-beforeMount");
		},
		mounted(){
			console.log("4-mounted");
            this.timer = setInterval(()=>{
				console.log("interval")
				this.num++;
			},1000);
		},
		// beforeUpdate,updated只有数据状态发生更改以后才会执行.
		// 视图更新之前.数据已经更新
		beforeUpdate(){
			console.log("1-beforeUpdate",this.num,this.$refs.btnRef.innerText)
		},
		// 视图更新后.数据更新
		updated(){
			console.log("2-updated",this.num,this.$refs.btnRef.innerText)
		},
		beforeDestroy(){
			console.log("1-beforeDestroy",this.num,this.$refs.btnRef);
		},
		destroyed(){
			console.log("2-destroyed",this.num,this.$refs.btnRef);
			clearInterval(this.timer);
		},


	})

    function fn(){
		vm.$destroy();
	}

</script>
</html>